{"version":3,"sources":["webpack:///./src/containers/SubscribeModal.jsx?4d5b","webpack:///./src/utils/formCheck.js?fb1a"],"names":["SubscribeModal","props","state","isTip","status","fetchStatus","FETCHING","type","DONE","text","msg","hasSub","nextProps","setState","_status","formData","nickname","refs","subNickname","value","email","subEmail","check_result","error","handleTip","focus","addSubscribe","e","stopPropagation","which","handleSub","isOpen","closeSubscribeModal","clickPanel","handleKeyUp","bind","mapStateToProps","branch_state","site","subscribeModal","mapDispatchToProps","dispatch","openSubscribeModal","Scene","album","add","edit","audio","anchor","checkHelper","isEmptyStr","str","isString","test","isBoolean","isNumber","_resHandler","length","formCheck","scene","err"],"mappings":"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","file":"0.54163cb49f596a0dc178.hot-update.js","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\r\nimport { connect } from \"react-redux\";\r\nimport { Status } from '../constants';\r\nimport site from '../actions/site';\r\nimport { checkHelper } from '../utils/formCheck';\r\n\r\nclass SubscribeModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isTip: {\r\n        status: !!props.fetchStatus.status && props.fetchStatus.status !== Status.FETCHING,\r\n        type: props.fetchStatus.status === Status.DONE ? 'success' : 'error', // 'error' or 'success'\r\n        text: props.fetchStatus.msg,\r\n      },\r\n      hasSub: props.fetchStatus.status === Status.DONE,\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n    this.setState({\r\n      isTip: {\r\n        status: !!nextProps.fetchStatus.status && nextProps.fetchStatus.status !== Status.FETCHING,\r\n        type: nextProps.fetchStatus.status === Status.DONE ? 'success' : 'error', // 'error' or 'success'\r\n        text: nextProps.fetchStatus.msg,\r\n      },\r\n      hasSub: nextProps.fetchStatus.status === Status.DONE,\r\n    });\r\n  }\r\n\r\n  handleSub() {\r\n\r\n    const _status = this.props.fetchStatus.status;\r\n\r\n    // 正在请求中 或 已经订阅完毕，则不执行订阅\r\n    if ( _status === Status.FETCHING || _status === Status.DONE ) {\r\n      return false;\r\n    }\r\n\r\n    let formData = {\r\n      nickname: this.refs.subNickname.value,\r\n      email: this.refs.subEmail.value,\r\n    };\r\n\r\n    let check_result = '';\r\n    if ( check_result = checkHelper.nickname(formData.nickname).error ) {\r\n      this.handleTip('error', check_result);\r\n      this.refs.subNickname.focus();\r\n      return false;\r\n    } else if ( check_result = checkHelper.email(formData.email).error ) {\r\n      this.handleTip('error', check_result);\r\n      this.refs.subEmail.focus();\r\n      return false;\r\n    }\r\n\r\n    this.props.addSubscribe(formData);\r\n\r\n  }\r\n\r\n  handleTip(type, text) {\r\n\r\n    this.setState({\r\n      isTip: {\r\n        status: true,\r\n        type: type,\r\n        text: text,\r\n      },\r\n      hasSub: type === 'success',\r\n    });\r\n  }\r\n\r\n  clearTip() {\r\n    this.setState({\r\n      isTip: {\r\n        status: false,\r\n        type: 'error',\r\n        text: '',\r\n      },\r\n      hasSub: false,\r\n    });\r\n  }\r\n\r\n  clickPanel(e) {\r\n  \te.stopPropagation();\r\n  }\r\n\r\n  handleKeyUp(e) {\r\n  \t// 回车\r\n  \tif( e.which == 13 ) {\r\n  \t\tthis.handleSub(this);\r\n  \t}\r\n  }\r\n\r\n  render() {\r\n\r\n  \treturn (\r\n      <ReactCSSTransitionGroup\r\n          transitionName=\"dropdown\" \r\n          transitionAppear={true} \r\n          transitionAppearTimeout={800}\r\n          transitionEnterTimeout={800}\r\n          transitionLeaveTimeout={800}\r\n        >\r\n        {\r\n          this.props.isOpen ?\r\n      \t  <div\r\n      \t    className=\"modal modal-sub\"\r\n      \t    onClick={this.props.closeSubscribeModal}\r\n      \t  >\r\n            <div className=\"mask\"></div>\r\n            <div\r\n              className=\"panel\"\r\n              onClick={this.clickPanel}\r\n            >\r\n              <h2>欢迎订阅</h2>\r\n              <div className=\"m-middle\">\r\n                <input\r\n                  type=\"text\" \r\n                  className=\"text\" \r\n                  placeholder=\"昵称\" \r\n                  name=\"nickname\"\r\n                  ref=\"subNickname\"\r\n                  onKeyUp={this.handleKeyUp}\r\n                />\r\n                <input \r\n                  type=\"email\" \r\n                  className=\"text\" \r\n                  placeholder=\"常用邮箱\" \r\n                  name=\"email\"\r\n                  ref=\"subEmail\"\r\n                  onKeyUp={this.handleKeyUp}\r\n                />\r\n                {\r\n                  this.state.hasSub ? \r\n                  <span\r\n    \t            className=\"btn success\"\r\n    \t          >✔ 已订阅</span>\r\n    \t          :\r\n    \t          <button\r\n                    className=\"btn\"\r\n                    onClick={this.handleSub.bind(this)}\r\n                  >订&nbsp;&nbsp;阅</button>\r\n                }\r\n              </div>\r\n              <div className=\"m-bottom\">\r\n                {\r\n                  this.state.isTip.status ? \r\n                  <p className=\"error-tip\">\r\n                    <span className={`icon ${this.state.isTip.type == 'error' ? 'icon-error' : 'icon-ok'}`}></span>\r\n                    <span className={`text ${this.state.isTip.type == 'error' ? '' : 'success'}`}>{this.state.isTip.text}</span>\r\n                  </p>\r\n                  :\r\n                  <div>\r\n                    <p>当有新博文发表时，将会以邮件形式通知您。</p>\r\n                    <p>所填信息不会被公开。</p>\r\n                  </div>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n          : ''\r\n        }\r\n      </ReactCSSTransitionGroup>\r\n  \t);\r\n\r\n  }\r\n\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const branch_state = state.site.subscribeModal;\r\n  return branch_state;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  openSubscribeModal: () => dispatch(site.openSubscribeModal),\r\n  closeSubscribeModal: () => dispatch(site.closeSubscribeModal),\r\n  addSubscribe: (formData) => dispatch(site.addSubscribe(formData)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SubscribeModal);\n\n\n// WEBPACK FOOTER //\n// ./src/containers/SubscribeModal.jsx","/*\r\n * 页面上所有的表单校验规则都封装到这个模块里，按场景校验。\r\n *\r\n *\r\n * 调用方法：\r\n * import { formCheck, Scene } from './formCheck.js'\r\n * const check_result = formCheck(formData, scene);\r\n * if ( check_result.error ) {\r\n *   Toast.error(check_result.error);\r\n * } else {\r\n *   // do some action...\r\n * }\r\n *\r\n * @param formData { Object } 表单对象\r\n * @param secen { String } 校验场景，引用 Scene\r\n * @return { Object }\r\n *   {\r\n *     error: '' || errorMsg\r\n *   }\r\n */\r\nimport _ from 'lodash';\r\n\r\nconst Scene = {\r\n  album: {\r\n    add: 'ALBUM_ADD',\r\n    edit: 'ALBUM_EDIT',\r\n  },\r\n  audio: {\r\n    add: 'AUDIO_ADD',\r\n    edit: 'AUDIO_EDIT',\r\n  },\r\n  anchor: {\r\n    add: 'ANCHOR_ADD',\r\n    edit: 'ANCHOR_EDIT',\r\n  },\r\n}\r\n\r\nconst checkHelper = {\r\n  isEmptyStr(str) {\r\n    return  !_.isString(str) || !/\\S/.test(str) || str === 'undefined';\r\n  },\r\n  isBoolean(str) {\r\n    return _.isBoolean(str);\r\n  },\r\n  isNumber(str) {\r\n    return _.isNumber(str);\r\n  },\r\n  nickname(str) {\r\n    if ( checkHelper.isEmptyStr(str) ) {\r\n      return _resHandler('昵称不能为空');\r\n    } else if ( str.length > 20 ) {\r\n      return _resHandler('昵称过长，不能超过 20 个字符');\r\n    } else {\r\n      return _resHandler();\r\n    }\r\n  },\r\n  email(str) {\r\n  \tif ( checkHelper.isEmptyStr(str) ) {\r\n  \t  return _resHandler('邮箱不能为空');\r\n  \t} else if ( !/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w{2,3}){1,3})$/.test(str) ) {\r\n  \t  return _resHandler('电子邮箱格式错误');\r\n  \t} else {\r\n  \t  return _resHandler();\r\n  \t}\r\n  }\r\n\r\n};\r\n\r\nconst formCheck = function(formData, scene) {\r\n\r\n  // switch (scene) {\r\n  //   case Scene.album.add:\r\n  //     return _albumAdd(formData);\r\n  //   case Scene.album.edit:\r\n  //     return _albumEdit(formData);\r\n  //   case Scene.audio.add:\r\n  //     return _audioAdd(formData);\r\n  //   case Scene.audio.edit:\r\n  //     return _audioEdit(formData);\r\n  //   case Scene.anchor.add:\r\n  //     return _anchorAdd(formData);\r\n  //   case Scene.anchor.edit:\r\n  //     return _anchorEdit(formData);\r\n  // }\r\n\r\n};\r\n/*\r\nfunction _albumAdd(formData) {\r\n  // announce_intro\r\n  // announce_name\r\n  // *category\r\n  // *intro\r\n  // *is_finished\r\n  // *push_status\r\n  // *quality\r\n  // source: \"self\"\r\n  // *origin_source\r\n  // *name\r\n  // sub_category\r\n  // tags\r\n  // *is_verified\r\n  if ( checkHelper.isEmptyStr(formData.name) ) {\r\n    return _resHandler('专辑名称不能为空');\r\n  } else if ( formData.name.length > NAME_LENGTH_LIMIT ) {\r\n    return _resHandler('专辑名称过长');\r\n  } else if ( checkHelper.isEmptyStr(formData.intro) ) {\r\n    return _resHandler('简介不能为空');\r\n  } else if ( checkHelper.isEmptyStr(formData.cover_url) ) {\r\n    return _resHandler('请上传专辑封面图');\r\n  } else if ( checkHelper.isEmptyStr(formData.category) ) {\r\n    return _resHandler('请选择专辑一级分类');\r\n  } else if ( !checkHelper.isNumber(formData.quality) ) {\r\n    return _resHandler('请选择质量评级');\r\n  } else if ( checkHelper.isEmptyStr(formData.announcer_id) ) {\r\n    // 这里暂时判断 announce_name ，等 id 关联做了以后改为 announce_id\r\n    return _resHandler('请选择主播');\r\n  } else if ( !checkHelper.isBoolean(formData.is_verified) ) {\r\n    return _resHandler('请选择是否加 V');\r\n  } else if ( !checkHelper.isBoolean(formData.is_finished) ) {\r\n    return _resHandler('请选择完结状态');\r\n  } else if ( checkHelper.isEmptyStr(formData.origin_source) ) {\r\n    return _resHandler('请选择内容来源');\r\n  } else if ( !checkHelper.isNumber(formData.push_status) ) {\r\n    return _resHandler('请选择下发状态');\r\n  } else {\r\n    return _resHandler();\r\n  }\r\n}\r\n\r\nfunction _albumEdit(formData) {\r\n  // *category\r\n  // *intro\r\n  // *push_status\r\n  // *quality\r\n  // *name\r\n  // tags\r\n  if ( checkHelper.isEmptyStr(formData.name) ) {\r\n    return _resHandler('专辑名称不能为空');\r\n  } else if ( formData.name.length > NAME_LENGTH_LIMIT ) {\r\n    return _resHandler('专辑名称过长');\r\n  } else if ( checkHelper.isEmptyStr(formData.intro) ) {\r\n    return _resHandler('简介不能为空');\r\n  } else if ( checkHelper.isEmptyStr(formData.category) ) {\r\n    return _resHandler('请选择专辑一级分类');\r\n  } else if ( !checkHelper.isNumber(formData.quality) ) {\r\n    return _resHandler('请选择质量评级');\r\n  } else if ( !checkHelper.isNumber(formData.push_status) ) {\r\n    return _resHandler('请选择下发状态');\r\n  } else {\r\n    return _resHandler();\r\n  }  \r\n}\r\n\r\n\r\nfunction _audioAdd(formData){\r\n  if ( checkHelper.isEmptyStr(formData.name) ) {\r\n    return _resHandler('音频名称不能为空');\r\n  } else if ( formData.name.length > NAME_LENGTH_LIMIT ) {\r\n    return _resHandler('音频名称过长');\r\n  } else if ( checkHelper.isEmptyStr(formData.cover_url) ) {\r\n    return _resHandler('请上传音频封面图');\r\n  } else if ( checkHelper.isEmptyStr(formData.category) ) {\r\n    return _resHandler('请选择音频一级分类');\r\n  } else if ( checkHelper.isEmptyStr(formData.video_id) ) {\r\n    return _resHandler('请上传音频文件');\r\n  } else {\r\n    return _resHandler();\r\n  }\r\n}\r\n\r\nfunction _audioEdit(formData) {\r\n  if ( checkHelper.isEmptyStr(formData.name) ) {\r\n    return _resHandler('音频名称不能为空');\r\n  } else if ( formData.name.length > NAME_LENGTH_LIMIT ) {\r\n    return _resHandler('音频名称过长');\r\n  } else if ( checkHelper.isEmptyStr(formData.category) ) {\r\n    return _resHandler('请选择音频一级分类');\r\n  } else {\r\n    return _resHandler();\r\n  }\r\n}\r\n\r\nfunction _anchorAdd(formData) {\r\n  // *name\r\n  // *intro\r\n  // *source\r\n  if ( checkHelper.isEmptyStr(formData.name) ) {\r\n    return _resHandler('主播名称不能为空');\r\n  } else if ( checkHelper.isEmptyStr(formData.intro) ) {\r\n    return _resHandler('简介不能为空');\r\n  } else if ( checkHelper.isEmptyStr(formData.intro) ) {\r\n    return _resHandler('来源不能为空');\r\n  } else {\r\n    return _resHandler();\r\n  }\r\n}\r\n\r\nfunction _anchorEdit(formData) {\r\n  // *name\r\n  // *intro\r\n  if ( checkHelper.isEmptyStr(formData.name) ) {\r\n    return _resHandler('主播名称不能为空');\r\n  } else if ( checkHelper.isEmptyStr(formData.intro) ) {\r\n    return _resHandler('简介不能为空');\r\n  } else {\r\n    return _resHandler();\r\n  }\r\n}\r\n*/\r\n\r\n\r\nfunction _resHandler(err = '') {\r\n  return {\r\n    error: err,\r\n  }\r\n}\r\n\r\n\r\nexport default {\r\n  Scene,\r\n  formCheck,\r\n  checkHelper,\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/formCheck.js"],"sourceRoot":""}